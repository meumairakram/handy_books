{"version":3,"sources":["reducers/index.js","reducers/Books_reducer.js","reducers/UserReducer.js","actions/index.js","widgetsUI/BookItem.js","containers/HomeContainer.js","components/home/index.js","components/single-book/SingleBook.js","components/header/nav/SideNavItems.js","components/header/nav/HeaderSideNav.js","components/header/MainHeader.js","hoc/Layout.js","containers/LoginUser.js","components/Admin/User.js","widgetsUI/AddReviewForm.js","widgetsUI/LoaderAnim.js","components/Admin/AddReviews.js","components/Admin/MyReviews.js","components/Admin/EditBook.js","components/Logout.js","hoc/Auth.js","Routes.js","index.js"],"names":["rootReducer","combineReducers","books","state","action","type","payload","info","book","reviewer","user","new_book","reviews","login","getBooks","limit","offset","currentProps","request","axios","get","then","response","data","getBookWithReviewer","book_id","dispatch","ownerId","checkAuth","BookItem","item","to","_id","className","name","author","price","pages","rating","HomeContainer","props","renderElement","Array","isArray","map","index","key","handleLoadMore","length","this","onClick","Component","connect","Home","SingleBook","renderBook","console","log","lastname","review","match","params","id","SideNavItems","items","icon","text","link","restricted","i","linkClicked","Element","HeaderSideNav","showNav","navStyle","backgroundColor","titleStyle","title","onHideNav","hideNav","linkedClicked","MainHeader","onChange","setState","openNav","style","color","padding","cursor","PageLayout","children","LoginUser","onChangeHandler","event","target","value","submitHandler","e","preventDefault","email","password","post","loginUser","error","prevProps","prevState","snapshot","isAuth","history","push","onSubmit","placeholder","User","alt","src","AddReviewForm","formik","useFormik","initialValues","defaultValues","values","formikBag","resetForm","handleSubmit","handleChange","buttonText","LoaderAnim","AddReviews","addReviewer","valuesToSubmit","user_id","loading","addBook","success","is","empty","MyReviews","renderReviewItems","ownerid","getReviews","class","maxWidth","margin","EditBook","renderDefaultValues","bookInfo","hasOwnProperty","defaultData","handleEditBook","bookValues","updatedValues","updateBook","editSaved","bookID","PureComponent","Logout","setTimeout","Auth","ComposedClass","reload","snapshopt","mapStateToProps","Routes","path","exact","component","createStoreWithMiddleware","applyMiddleware","reduxThunk","promiseMiddleware","createStore","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.65bdd956.chunk.js","sourcesContent":["import {combineReducers} from 'redux';\r\nimport books from './Books_reducer';\r\nimport user from './UserReducer';\r\nconst rootReducer = combineReducers({\r\n    books,\r\n    user\r\n});\r\n\r\nexport default rootReducer;","\r\n\r\nexport default function books(state = {},action) {\r\n\r\n    switch(action.type) {\r\n        case 'GET_ALL_BOOKS':\r\n            return action.payload;\r\n\r\n        case 'GET_BOOK_WITH_REVIEWER':\r\n            return {\r\n                ...state,\r\n                info:action.payload.book,\r\n                reviewer:action.payload.user\r\n            };\r\n        case 'ADD_BOOK':            \r\n            return {\r\n                ...state,\r\n                new_book:action.payload\r\n            }\r\n        case 'REVIEWS_BY_OWNER':\r\n            return {\r\n                ...state,\r\n                reviews:action.payload\r\n            }\r\n        case 'UPDATE_BOOK':\r\n            return {\r\n                ...state,\r\n                info:action.payload\r\n            }\r\n\r\n        \r\n        default:\r\n            return state;\r\n        \r\n    }\r\n} \r\n","\r\n\r\nexport default function user(state = {},action) {\r\n\r\n    switch(action.type) {\r\n\r\n        case 'LOGIN_USER':\r\n            return {...state,login:action.payload}\r\n        case 'AUTH_USER':\r\n            return {...state,login:action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n} ","import axios from 'axios';\r\n\r\n\r\nexport function getBooks(\r\n    limit = 10,\r\n    offset = 0 ,\r\n    currentProps = ''\r\n) {\r\n\r\n    const request = axios.get(`/api/getAllBooks?limit=${limit}&offset=${offset}`)\r\n                    .then((response) => { \r\n                        if(currentProps === '') {\r\n                            return    response.data ;\r\n                        } else {\r\n                            return [...currentProps,...response.data];\r\n                        }\r\n                        \r\n                    \r\n                    })\r\n\r\n    return {\r\n        type: \"GET_ALL_BOOKS\",\r\n        payload:request\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function getBookWithReviewer(\r\n        book_id = ''\r\n) {\r\n\r\n    if(book_id !== '') {\r\n        const request = axios.get(`/api/getBook?id=${book_id}`)\r\n        return (dispatch) => {\r\n            \r\n            request.then((response) => {\r\n               let book = response.data;\r\n\r\n            \r\n                let userRequest = axios.get(`/api/getReviewer/?user=${book.ownerId}`);\r\n\r\n                userRequest.then((reviewer) => {\r\n                \r\n                let user = reviewer.data;\r\n                dispatch({\r\n                        type:'GET_BOOK_WITH_REVIEWER',\r\n                        payload:{book,user}\r\n                    });\r\n\r\n                })\r\n\r\n            });\r\n            \r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function clearBookEdit() {\r\n\r\n    return {\r\n        type:'GET_BOOK_WITH_REVIEWER',\r\n        payload:{book:{},user:{}}\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function updateBook(updatedValues) {\r\n\r\n    const request = axios.post(`/api/updateBook`,updatedValues);\r\n\r\n    return (dispatch) => {\r\n        request.then(({data}) => {\r\n            dispatch({\r\n                type:\"UPDATE_BOOK\",\r\n                payload:data\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n} \r\n\r\n\r\n\r\n/*===================== USER FUNTIONS ==============*/\r\n\r\nexport function loginUser({email,password}) {\r\n\r\n    const request = axios.post(`/api/login`,{email,password})\r\n    \r\n                    .then(({data}) => {\r\n                        return data;\r\n                    });\r\n\r\n    return {\r\n        type:\"LOGIN_USER\",\r\n        payload: request\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport function checkAuth() {\r\n\r\n    const request = axios('/api/auth')\r\n                    .then(({data}) => {\r\n                        return data;\r\n                    })\r\n\r\n    return {\r\n        type:'AUTH_USER',\r\n        payload:request\r\n    }\r\n    \r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport function addBook(values) {\r\n\r\n    const request = axios.post('/api/book',values)\r\n                    .then(({data}) => {\r\n                        return data;\r\n                    })\r\n\r\n    return {\r\n        type:'ADD_BOOK',\r\n        payload:request\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport function getReviews(ownerId) {\r\n\r\n    const request = axios.post('/api/getBooksByOwner',{ownerid:ownerId})\r\n\r\n    return (dispatch) => {\r\n\r\n        request.then((response) => {\r\n\r\n            dispatch({\r\n                type:'REVIEWS_BY_OWNER',\r\n                payload:response.data\r\n            });\r\n\r\n        });\r\n        \r\n       \r\n\r\n    }\r\n\r\n\r\n}","import React from 'react'\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst BookItem = (item) => {\r\n    \r\n    return(\r\n\r\n        <Link to={`/books/${item._id}`} className=\"book_item\">\r\n            <div className=\"book_header\">\r\n                <h2>{item.name}</h2>\r\n            </div>\r\n            <div className=\"book_items\">\r\n                <div className=\"book_author\">{item.author}</div>\r\n\r\n                <div className=\"book_bubble\"><strong>Price</strong> ${item.price}</div>\r\n                <div className=\"book_bubble\"><strong>Pages</strong> ${item.pages}</div>\r\n                <div className=\"book_bubble\"><strong>Rating</strong> ${item.rating}</div>\r\n\r\n            </div>  \r\n\r\n        </Link>\r\n\r\n    )\r\n\r\n\r\n}\r\n\r\n\r\nexport default BookItem;\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {getBooks} from '../actions';\r\nimport BookItem from '../widgetsUI/BookItem';\r\n\r\nclass HomeContainer extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(getBooks(3,0));\r\n    }\r\n\r\n    renderElement = (books) => {\r\n\r\n        if(Array.isArray(books)) {\r\n           return books.map((book,index) => {\r\n                return (\r\n                    <BookItem {...book} key={book._id} />\r\n                )\r\n            });\r\n    \r\n        } else {\r\n            return '';\r\n        }       \r\n    }\r\n\r\n\r\n    handleLoadMore = () => {\r\n        \r\n        this.props.dispatch(getBooks(2,this.props.books.length,this.props.books));\r\n\r\n    }\r\n\r\n    render() {\r\n       \r\n        return (\r\n            <div>\r\n                {this.renderElement(this.props.books)}\r\n                <div className=\"loadmore\" onClick={this.handleLoadMore}>Load More</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst maptStateToProps = (state) => {\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\n\r\n\r\nexport default connect(maptStateToProps)(HomeContainer);\r\n","import React from 'react';\r\nimport HomeContainer from '../../containers/HomeContainer';\r\n\r\nconst Home = props => {\r\n     \r\n    return(\r\n        <div>\r\n            <HomeContainer />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {getBookWithReviewer} from '../../actions/';\r\n\r\nclass SingleBook extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(getBookWithReviewer(this.props.match.params.id));\r\n\r\n    }\r\n\r\n\r\n    renderBook = (book) => {\r\n        console.log(book)\r\n        if(book.info) {\r\n            return (\r\n                <div className=\"br_container\">\r\n                    <div className=\"br_header\">\r\n                        <h2>{book.info.name}</h2> \r\n                        <h5>{book.info.author}</h5>   \r\n                        <div className=\"br_reviewer\">\r\n                            <span>Reviwed by:</span> {book.reviewer.name} {book.reviewer.lastname}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"br_review\">\r\n                        {book.info.review}\r\n                    </div>\r\n\r\n                    <div className=\"br_box\">\r\n                        <div className=\"left\">\r\n                            <div>\r\n                                <span>Price: </span> {book.info.price}\r\n                            </div>\r\n                            <div>\r\n                                <span>Pages: </span> {book.info.pages}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right\">\r\n                            <span>Rating:</span>\r\n                            <div>{book.info.rating}/5</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            )\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props);\r\n        return (\r\n            <div>\r\n                {this.renderBook(this.props.book)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log(state);\r\n    return {\r\n        book: state.books\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps)(SingleBook);\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport FontAwesome from 'react-fontawesome';\r\n\r\nconst SideNavItems = props => {\r\n    \r\n    const items = [\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"home\",\r\n            text:\"Home\",\r\n            link:\"/\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"user-circle\",\r\n            text:\"My Profile\",\r\n            link:\"/user\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"address-card-o\",\r\n            text:\"Add Admins\",\r\n            link:\"/user/register\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"sign-in\",\r\n            text:\"Login\",\r\n            link:\"/login\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"user-o\",\r\n            text:\"My Reviews\",\r\n            link:\"/user/my_reviews\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"plus-square-o\",\r\n            text:\"Add Reviews\",\r\n            link:\"/user/add\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"sign-out\",\r\n            text:\"Logout\",\r\n            link:\"/logout\",\r\n            restricted:false\r\n        }\r\n    ];\r\n\r\n    const Element = (item,i) => {\r\n        return (\r\n\r\n        \r\n        <div key={i} className={item.type}>\r\n            <Link to={item.link} onClick={props.linkClicked}>\r\n                <FontAwesome name={item.icon} /> \r\n                {item.text}\r\n            </Link>\r\n            \r\n        </div>\r\n\r\n        )       \r\n\r\n    }\r\n\r\n\r\n    const renderSideNavItems = () => {\r\n        return items.map((item,i) => {\r\n            return Element(item,i);\r\n        });\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {renderSideNavItems()}\r\n        </div>\r\n        \r\n    )\r\n\r\n}\r\n\r\n\r\nexport default SideNavItems;\r\n","\r\n\r\nimport React,{Component} from 'react'\r\nimport SideNav from 'react-simple-sidenav';\r\nimport SideNavItems from './SideNavItems';\r\nclass HeaderSideNav extends Component {\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <SideNav showNav={this.props.showNav} navStyle={{backgroundColor:'#222222'}} titleStyle={{backgroundColor:' #0495a8'}}  title=\"BookShelf Menu\" onHideNav={this.props.hideNav}>\r\n                <SideNavItems linkClicked={this.props.linkedClicked} />\r\n            </SideNav>\r\n            \r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default HeaderSideNav\r\n","import React, { Component } from 'react'\r\nimport FontAwesome from 'react-fontawesome';\r\nimport {Link } from 'react-router-dom';\r\nimport HeaderSideNav from './nav/HeaderSideNav';\r\n\r\n\r\nclass MainHeader extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            showNav:false\r\n        }\r\n    }\r\n\r\n\r\n    onChange = () => {\r\n        this.setState({\r\n            showNav: false\r\n        })\r\n    }\r\n\r\n\r\n    openNav = function() {\r\n        this.setState({\r\n            showNav:true\r\n        })\r\n    }\r\n\r\n    linkedClicked = () => {\r\n        this.setState({\r\n            showNav:false\r\n        })\r\n\r\n    }\r\n\r\n  \r\n    render() {\r\n        return (\r\n            <header>\r\n                <div className=\"open_nav\">\r\n                    <FontAwesome name=\"bars\" onClick={() => this.openNav()} style={{\r\n                        color:'#FFF',\r\n                        padding:'10px',\r\n                        cursor:\"pointer\"\r\n                    }} />\r\n                   \r\n                </div>\r\n\r\n                <HeaderSideNav showNav={this.state.showNav} linkedClicked={this.linkedClicked}  hideNav={this.onChange} />\r\n\r\n                <Link to=\"/\" className=\"logo\">\r\n                        Books Project\r\n                </Link>\r\n\r\n\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default MainHeader\r\n","import React, { Component } from 'react'\r\nimport MainHeader from '../components/header/MainHeader';\r\n\r\nclass PageLayout extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n           <div className=\"\">\r\n                <MainHeader />\r\n                {this.props.children}\r\n\r\n           </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default PageLayout\r\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {loginUser} from '../actions';\r\n\r\n\r\nclass LoginUser extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            email:'',\r\n            password:'',\r\n            error:''\r\n        }\r\n    }\r\n\r\n\r\n    onChangeHandler = (event) => {\r\n\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n\r\n    }\r\n\r\n    submitHandler = (e) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(loginUser(this.state));\r\n       \r\n    }\r\n\r\n    componentDidUpdate(prevProps,prevState,snapshot) {\r\n\r\n        if(this.props.user.login) {\r\n            if(this.props.user.login.isAuth) {\r\n                this.props.history.push('/user');\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.props);\r\n        let user = this.props.user;\r\n        return (\r\n           <div className=\"rl_container\">\r\n               <form onSubmit={this.submitHandler}>\r\n                    <h2>Login Here</h2>\r\n                    \r\n                    <div className=\"form_element\">\r\n                        <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Enter your email\"\r\n                            value={this.state.email}\r\n                            onChange={this.onChangeHandler}\r\n                        />\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form_element\">\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={this.state.password}\r\n                            onChange={this.onChangeHandler}\r\n                        />\r\n                    </div>\r\n\r\n                    <button>Login</button>\r\n\r\n                    <div className=\"error\">\r\n                        {\r\n                            user.login ? \r\n                            <div>{user.login.error}</div> \r\n                            : null\r\n                        } \r\n                    </div>\r\n\r\n\r\n               </form>\r\n           </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    console.log(state);\r\n    return {\r\n        user: state.user\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginUser);\r\n","import React, { Component } from 'react'\r\n\r\nclass User extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props);\r\n        let user = this.props.user.login;\r\n        return (\r\n            <div className=\"user_container\">\r\n                <div className=\"avatar\">\r\n                    <img alt=\"avatar\" src=\"/images/avatar.png\" />\r\n                </div>\r\n                <div className=\"nfo\">\r\n                    <div><span>Firstname:</span> {user.name} </div>\r\n                    <div><span>Email:</span> {user.email} </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default User;\r\n","import React, { Component } from 'react'\r\nimport {withFormik, useFormik} from 'formik';\r\n\r\n\r\n\r\nconst AddReviewForm = (props) => {\r\n\r\n    \r\n    const formik = useFormik({\r\n        initialValues:{            \r\n            name:\"\",\r\n            price:\"\",\r\n            author:\"\",\r\n            pages:\"\",\r\n            review:\"\",\r\n            rating:\"\",\r\n            ...props.defaultValues,\r\n        },\r\n        onSubmit: (values,formikBag) => {\r\n         \r\n            formikBag.resetForm();\r\n            props.submitHandler(values);\r\n        }\r\n\r\n    });\r\n\r\n    const {values, handleSubmit, handleChange} = formik;\r\n    \r\n    return (\r\n        \r\n        \r\n            <div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form_element\">\r\n                        <input type=\"text\" name=\"name\" value={values.name} onChange={handleChange} placeholder=\"Enter name\" />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input type=\"text\"  name=\"author\" value={values.author} onChange={handleChange}  placeholder=\"Enter Author\" />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <textarea name=\"review\"  name=\"review\" value={values.review} onChange={handleChange}></textarea>\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input type=\"text\" name=\"pages\" value={values.pages} onChange={handleChange} placeholder=\"Pages\" />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input type=\"text\" name=\"rating\" value={values.rating} onChange={handleChange} placeholder=\"Rating\" />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input type=\"text\" name=\"price\" value={values.price} onChange={handleChange} placeholder=\"Enter Price\" />\r\n                    </div>\r\n\r\n                    <button type=\"submit\">{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        )\r\n}\r\n\r\n\r\n\r\n// const FormikReviewForm = withFormik({\r\n\r\n//     mapPropsToValues: () => {\r\n        \r\n//             return {\r\n//                 name:\"\",\r\n//                 price:\"\",\r\n//                 author:\"\",\r\n//                 pages:\"\",\r\n//                 review:\"\",\r\n//                 rating:\"\"\r\n//             }\r\n      \r\n//     },\r\n//     handleSubmit: (values,formikBag) => {\r\n//         // console.log(values);\r\n//         formikBag.resetForm();\r\n//         formikBag.props.addReviewer(values);\r\n//     }\r\n\r\n\r\n\r\n// })(AddReviewForm);\r\n\r\nexport default AddReviewForm;\r\n","import React from 'react'\r\n\r\n\r\nconst LoaderAnim = props => {\r\n    return (\r\n        <div className=\"loader\">\r\n            Loading...\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default LoaderAnim;\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {addBook} from '../../actions';\r\nimport AddReviewForm from '../../widgetsUI/AddReviewForm';\r\nimport LoaderAnim from '../../widgetsUI/LoaderAnim';\r\nimport is from 'is-js';\r\n\r\n\r\n\r\nclass AddReviews extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading:false,\r\n            success:false\r\n        }\r\n    }\r\n\r\n\r\n    addReviewer = (values) => {\r\n\r\n        let valuesToSubmit = {...values, ownerId:this.props.user.login.user_id};\r\n        this.setState({\r\n            loading:true\r\n        });\r\n\r\n        this.props.dispatch(addBook(valuesToSubmit));\r\n        \r\n        return true;\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps,prevState,snapshot) {\r\n\r\n        // console.log(snapshot);\r\n\r\n       if(!is.empty(this.props.reviews) && is.empty(prevProps.reviews)) {\r\n           this.setState({\r\n               loading:false,\r\n               success:true\r\n           });\r\n       }\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n             \r\n        if(this.state.loading) {\r\n            return <LoaderAnim />\r\n        } else {\r\n\r\n        \r\n            return (\r\n                <div className=\"rl_container\">\r\n                    <h2>Add Review</h2>\r\n                    <AddReviewForm submitHandler={this.addReviewer} defaultValues={{rating:'5',price:'0'}} buttonText=\"Add Review\" />\r\n                    {(this.state.success) ? <div className=\"success\"> Successfully Added Book </div> : ''}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        reviews: state.books\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddReviews);\r\n\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {getReviews} from '../../actions';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nimport is from 'is-js';\r\n\r\nclass MyReviews extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    renderReviewItems = function(reviews) {\r\n        if(reviews) {\r\n            return reviews.map(item => {\r\n\r\n                return(\r\n                    <tr key={item._id}>\r\n                        <td></td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.author}</td>\r\n                        <td><Link to={`/user/edit/${item._id}`}>Edit</Link></td>\r\n                    </tr>\r\n                )\r\n    \r\n            });\r\n        } else {\r\n            return null\r\n        }\r\n    \r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {user_id} = this.props.user.login;\r\n        this.props.dispatch(getReviews(user_id));\r\n    }\r\n\r\n\r\n    render() {\r\n        // console.clear();\r\n        const {reviews} = this.props;\r\n        console.log(this.props);\r\n        return (\r\n            <div class=\"rl_container\">\r\n                <h2>My Reviews</h2>\r\n\r\n                <table style={{maxWidth:'800px',margin:'0px auto'}}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Sr.</th>\r\n                            <th>Book Name</th>\r\n                            <th>Author</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                \r\n                    <tbody>\r\n                        {(!is.empty(reviews)) ? \r\n                        this.renderReviewItems(this.props.reviews.reviews) : null}\r\n\r\n                    </tbody>\r\n                \r\n               \r\n                </table>\r\n            </div>\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n} \r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        reviews: state.books\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(MyReviews);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { PureComponent } from 'react'\r\nimport LoaderAnim from '../../widgetsUI/LoaderAnim';\r\nimport AddReviewForm from '../../widgetsUI/AddReviewForm';\r\nimport {connect} from 'react-redux';\r\nimport {getBookWithReviewer, clearBookEdit, updateBook} from '../../actions/';\r\n\r\n\r\nclass EditBook extends PureComponent {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading:false,\r\n            editSaved:false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        let bookID = this.props.match.params.id;\r\n\r\n        this.props.dispatch(getBookWithReviewer(bookID));\r\n        \r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n\r\n        this.props.dispatch(clearBookEdit());\r\n    }\r\n\r\n\r\n    renderDefaultValues = (values) => {\r\n            \r\n        let book = values.bookInfo;\r\n        if(book.info && book.info.hasOwnProperty('name')) {\r\n            let defaultData = {\r\n                name:book.info.name,\r\n                rating:book.info.rating,\r\n                author:book.info.author,\r\n                pages:book.info.pages,\r\n                price:book.info.price,\r\n                review:book.info.review\r\n            }\r\n            \r\n            return (\r\n                <AddReviewForm submitHandler={this.handleEditBook} defaultValues={defaultData} buttonText=\"Update Review\" />\r\n            )\r\n        } else {\r\n            return (<></>)\r\n        }\r\n\r\n       \r\n    }\r\n\r\n\r\n\r\n    handleEditBook = (values) => {\r\n\r\n    const bookValues = {\r\n        book_id:this.props.match.params.id,\r\n        ...values\r\n    };\r\n\r\n        this.props.dispatch(updateBook(bookValues));\r\n\r\n        this.setState({\r\n            editSaved:true\r\n        });\r\n    }\r\n\r\n   \r\n\r\n    render() {\r\n        if(this.state.loading) {\r\n            return <LoaderAnim />\r\n        } else {\r\n\r\n        \r\n            return (\r\n                <div className=\"rl_container\">\r\n                    <h2>Edit Review</h2>\r\n                    {this.renderDefaultValues(this.props)}\r\n                    {(this.state.editSaved) ? <div className=\"success\">Book Updated Successfully.</div> : ''}\r\n                    \r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        bookInfo:state.books,    \r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(EditBook);\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Logout = props => {\r\n    console.log(props);\r\n    let request = axios.get('/api/logout')  \r\n                    .then(({data}) => {\r\n                        setTimeout(() => {\r\n                            props.history.push('/');\r\n                        },1000);\r\n                    });\r\n\r\n    return (\r\n        <div className=\"logout_container\">\r\n            <h1> Good Bye! See you soon... </h1>            \r\n        </div>\r\n    )\r\n    \r\n    \r\n}\r\n\r\nexport default Logout;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {checkAuth} from '../actions';\r\n\r\n\r\nexport function Auth(ComposedClass,reload = false) {\r\n\r\n    class Auth extends Component {\r\n\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                loading:true\r\n            }\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.props.dispatch(checkAuth());\r\n        }\r\n\r\n\r\n        componentDidUpdate(prevProps, prevState,snapshopt) {\r\n            if(prevState.loading) {\r\n                this.setState({\r\n                    loading:false\r\n                })\r\n            }\r\n            let user = this.props.user;\r\n            if(user.login) {\r\n\r\n                if(user.login.isAuth && reload == null) {\r\n                    this.props.history.push('/');\r\n                }\r\n\r\n                if(!user.login.isAuth && reload == true){\r\n                   this.props.history.push('/login')\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        render() {\r\n            let user = this.props.user;\r\n\r\n            if(this.state.loading) {                \r\n                return <div className=\"loader\">Loading...</div>\r\n                \r\n            } else {\r\n                if(user.login.isAuth){\r\n                    return <ComposedClass {...this.props} />    \r\n                } else {\r\n                    return <ComposedClass />    \r\n                }\r\n            }\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            user:state.user\r\n        }\r\n    }\r\n \r\n\r\n    return connect(mapStateToProps)(Auth);\r\n\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport {Switch, Route} from 'react-router-dom';\r\n\r\nimport Home from './components/home';\r\nimport SingleBook from './components/single-book/SingleBook';\r\nimport PageLayout from './hoc/Layout';\r\nimport LoginUser from './containers/LoginUser';\r\nimport User from './components/Admin/User';\r\nimport AddReviews from './components/Admin/AddReviews';\r\nimport MyReviews from './components/Admin/MyReviews';\r\nimport EditBook from './components/Admin/EditBook';\r\nimport Logout from './components/Logout';\r\nimport {Auth} from './hoc/Auth';\r\n\r\n\r\nclass Routes extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <PageLayout>\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={Auth(Home)} />\r\n                    <Route path=\"/login\" exact component={Auth(LoginUser,null)} />\r\n                    <Route path=\"/logout\" exact component={Auth(Logout,true)} />\r\n                    <Route path=\"/books/:id\" exact component={Auth(SingleBook,true)} />\r\n                    <Route path=\"/user\" exact component={Auth(User,true)} />\r\n                    <Route path=\"/user/add\" exact component={Auth(AddReviews,true)} />\r\n                    <Route path=\"/user/my_reviews\" exact component={Auth(MyReviews,true)} />\r\n                    <Route path=\"/user/edit/:id\" exact component={Auth(EditBook,true)} />\r\n                </Switch>\r\n            </PageLayout>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport reduxThunk from 'redux-thunk';\n\n// calling reducers\nimport rootReducer from './reducers';\n\n// Call routes\nimport Routes from './Routes';\n\n\nconst createStoreWithMiddleware = applyMiddleware(reduxThunk,promiseMiddleware)(createStore);\n\nconst App = function() {\n\n    return (\n        <Provider store={createStoreWithMiddleware(rootReducer)}>\n            <BrowserRouter>\n                <Routes />\n            </BrowserRouter>\n        </Provider>\n\n    )\n\n}\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}